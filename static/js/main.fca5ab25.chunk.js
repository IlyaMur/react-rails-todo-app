(this["webpackJsonpreact-todos"]=this["webpackJsonpreact-todos"]||[]).push([[0],{134:function(e,t,o){},135:function(e,t,o){},136:function(e,t,o){},212:function(e,t,o){"use strict";o.r(t);var n=o(0),c=o.n(n),a=o(25),s=o.n(a),r=(o(134),o(135),o(102)),i=o.n(r),l=o(118),d=o(52),j=o(217),u=o(220),b=o(125),h=o(214),m=o(215),O=(o(136),o(216)),f=o(93),p=o(221),x=o(222),g=o(69),T=o(223),v=o(128),y=o(47),S=o(9),C=function(e){var t=e.todo,o=e.onTodoRemoval,n=e.onTodoToggle;return Object(S.jsx)(O.b.Item,{actions:[Object(S.jsx)(f.a,{title:t.completed?"\u041f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u0435":"\u041f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u0435",children:Object(S.jsx)(p.a,{checkedChildren:Object(S.jsx)(v.a,{}),unCheckedChildren:Object(S.jsx)(y.a,{}),onChange:function(){n(t)},defaultChecked:t.completed})}),Object(S.jsx)(x.a,{title:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c?",onConfirm:function(){o(t)},children:Object(S.jsx)(g.a,{className:"remove-todo-button",type:"primary",danger:!0,children:"X"})})],className:"list-item",children:Object(S.jsx)("div",{className:"todo-item",children:Object(S.jsx)(T.a,{color:t.completed?"cyan":"red",className:"todo-tag",children:t.title})})},t.id)},N=function(e){var t=e.todos,o=e.onTodoRemoval,n=e.onTodoToggle;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(O.b,{locale:{emptyText:"\u0417\u0434\u0435\u0441\u044c \u043f\u0443\u0441\u0442\u043e :("},dataSource:t,renderItem:function(e){return Object(S.jsx)(C,{todo:e,onTodoToggle:n,onTodoRemoval:o})},pagination:{position:"bottom",pageSize:10}})})},k=o(218),F=o(219),R=o(224),w=function(e){var t=e.onFormSubmit,o=k.a.useForm(),n=Object(d.a)(o,1)[0];return Object(S.jsx)(k.a,{form:n,onFinish:function(){t({title:n.getFieldValue("title"),completed:!1}),console.log(n.getFieldsValue("title")),n.resetFields()},layout:"horizontal",className:"todo-form",children:Object(S.jsxs)(h.a,{gutter:20,children:[Object(S.jsx)(m.a,{xs:24,sm:24,md:17,lg:19,xl:20,children:Object(S.jsx)(k.a.Item,{name:"title",rules:[{required:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e!"}],children:Object(S.jsx)(F.a,{placeholder:"\u0427\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c?"})})}),Object(S.jsx)(m.a,{xs:24,sm:24,md:7,lg:5,xl:4,children:Object(S.jsxs)(g.a,{type:"primary",htmlType:"submit",block:!0,children:[Object(S.jsx)(R.a,{}),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"]})})]})})},E="https://whispering-beach-69994.herokuapp.com/todos",I=function(){return fetch(E).then((function(e){return e.json()}))},J=j.a.TabPane,P=u.a.Content,z=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),o=t[0],c=t[1],a=Object(n.useState)([]),s=Object(d.a)(a,2),r=s[0],O=s[1],f=Object(n.useState)([]),p=Object(d.a)(f,2),x=p[0],g=p[1],T=Object(n.useState)([]),v=Object(d.a)(T,2),y=v[0],C=v[1],k=function(e){var t;(t=e.id,fetch("".concat(E,"/").concat(t),{method:"DELETE"}).then((function(e){return e.json()}))).then(R()),b.b.warn("\u0414\u0435\u043b\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e")},F=function(e){e.completed=!e.completed,function(e){return fetch("".concat(E,"/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,title:e.title,completed:e.completed})}).then((function(e){return e.json()}))}(e).then(R()),b.b.info("\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d!")},R=Object(n.useCallback)(Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,I();case 3:t=e.sent,O(t),g(t.filter((function(e){return!1===e.completed}))),C(t.filter((function(e){return!0===e.completed}))),c(!1),console.log("Refresh state",o);case 9:case"end":return e.stop()}}),e)}))),[o]);return Object(n.useEffect)((function(){I().then((function(e){O(e),g(e.filter((function(e){return!1===e.completed}))),C(e.filter((function(e){return!0===e.completed})))})).then(console.log("\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"))}),[R]),Object(S.jsx)(u.a,{className:"layout",children:Object(S.jsx)(P,{style:{padding:"0 50px"},children:Object(S.jsx)("div",{className:"todolist",children:Object(S.jsx)(h.a,{children:Object(S.jsxs)(m.a,{span:14,offset:5,children:[Object(S.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b"}),Object(S.jsx)(w,{onFormSubmit:function(e){console.log("Todo to create",e),function(e){return fetch(E,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,completed:e.completed})}).then((function(e){return e.json()}))}(e).then(R()),b.b.success("\u0414\u0435\u043b\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e!")}}),Object(S.jsx)("br",{}),Object(S.jsxs)(j.a,{defaultActiveKey:"all",children:[Object(S.jsx)(J,{tab:"\u0412\u0441\u0435",children:Object(S.jsx)(N,{todos:r,onTodoToggle:F,onTodoRemoval:k})},"all"),Object(S.jsx)(J,{tab:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",children:Object(S.jsx)(N,{todos:x,onTodoToggle:F,onTodoRemoval:k})},"active"),Object(S.jsx)(J,{tab:"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0435",children:Object(S.jsx)(N,{todos:y,onTodoToggle:F,onTodoRemoval:k})},"complete")]})]})})})})})};var A=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(z,{})})};s.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(A,{})}),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.fca5ab25.chunk.js.map